<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style_task.css">
    <title>Lesson 10 - home task 4</title>
</head>
<body>
    <div class="wrapper">
        <main class="home">
            <div class="home__container">
                <div class="home__task task"></div>
                <h3 class="task__title">Урок 10 - Домашнє завдання 4</h3>
                <div class="task__condition">
                    4) Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального
                </div>
                <div class="task__computing">
                    <script>
                        let someArr = [178, 1450, 956, 3267, 841, 5089, 3045, 717, 23, 1001, 1, 547, 2045, 5689]

                        //------------------------ функція знаходження максимального (Math.max) --------------------------------
                        function findMax (arr) {
                            return Math.max(...arr)
                        }

                        console.log(findMax(someArr));

                        //------------------------ функція знаходження максимального (reduce) ----------------------------------
                        function findMax_2 (arr) {
                            let maxNumber = 0
                            arr.reduce(
                                (prevelem, elem, index, arr) => {
                                    if (elem > maxNumber) maxNumber = elem
                                }, 0
                            )
                            return maxNumber
                        }

                        console.log(findMax_2(someArr));

                        //--------- функція знаходження відсоткового значення цін від максимального значення (map) -------------
                        let getMax = findMax_2(someArr)

                        function getPricesPercents (arr, max) {
                            let resulArr = arr.map(
                                (elem) => elem/max * 100 
                            )
                            return resulArr
                        }

                        console.log(getPricesPercents (someArr, getMax));
                        let result = getPricesPercents(someArr, getMax)

                        //------------------------ функція відображення результату -----------------------------------------------
                        function printResult (result, message) {
                            document.write(`<br> Масив значень: ${someArr}<br>`)
                            document.write('<br> Результат: ')
                            result.forEach(element => {
                                document.write(`${(element.toFixed(2))}%     `)
                            });
                        }

                        printResult(result)
                    </script>
                </div>
            </div>
        </main>
    </div>
</body>
</html>