<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style_task.css">
    <title>Lesson 15 - home task 4</title>
</head>
<body>
    <div class="wrapper">
        <main class="home">
            <div class="home__container">
                <div class="home__task task"></div>
                <h3 class="task__title">Урок 15 - Домашнє завдання 4</h3>
                <div class="task__condition">
                    Задача 3. Розробити клас MultChecker для перевірки таблиці множення
                    Поля
                        Число, яке перевіряємо (наприклад, перевірка частини таблиці множення на 7)
                        Кількість правильних відповідей
                        Кількість неправильних відповідей
                    Методи
                        Генерування прикладу (метод випадковим чином визначає друге число, перше число фіксоване)
                        Перевірка правильності вказаної відповіді
                        render
                                        
                </div>
                <div class="task__computing">
                    <script>
                        
                        class MultChecker {
                            #checkNumber

                            constructor (checkNumber, correctAnswers, incorrectAnswers) {
                                this.#checkNumber = checkNumber
                                this.correctAnswers = correctAnswers
                                this.incorrectAnswers = incorrectAnswers
                            }

                            get CheckNumber () {
                                this.#checkNumber = checkNumber
                            }

                            set CheckNumber (checkNumber) {
                                if (checkNumber >= 10) {
                                    throw new Error('Перевірочне число не може бути більше або дорівнювати 10');
                                }
                                this.#checkNumber = checkNumber
                            }

                            generateExample (min = 1, max = 10) {
                                let generateRandomNumber = Math.floor(min + Math.random() * (max - min + 1)) 
                                alert(`Яким буде результат множення: ${this.#checkNumber} * ${generateRandomNumber}`)
                                
                                return generateRandomNumber
                            }

                            checkResult () {
                                let random = this.generateExample()
                                let userAnswer = parseInt(prompt('Введіть свій варіант відповіді') ) 
                                let multRresult = this.#checkNumber * random
                                if (multRresult === userAnswer) {
                                        multRresult = true
                                } else (
                                        multRresult = false
                                )
                                return multRresult
                            }

                            playAgain() {
                                let playAgain = confirm('Спробуємо ще?')
                                if (playAgain === true) {
                                    this.showResult()
                                } else {
                                    this.displayCounters()
                                }
                            }

                            showResult(){
                                let getResult = this.checkResult()
                                let info_1 = 'Правильно', info_2 = 'Не вірно!', correctAnswers = 0, incorrectAnswers = 0
                                if(getResult === true) {
                                    this.correctAnswers++
                                    console.log(info_1);
                                    alert(info_1)
                                } else {
                                    this.incorrectAnswers++
                                    console.log(info_2);
                                    alert(info_2)
                                }
                                this.playAgain()
                            }

                            displayCounters (){
                                alert(`Правильних відповідей: ${this.correctAnswers}. Неправильних відповідей: ${this.incorrectAnswers}`)
                            }
                        }

                        let multChecker = new MultChecker(8, 0, 0)
                        multChecker.showResult()
                    </script>
                </div>
            </div>
        </main>
    </div>
</body>
</html>