<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style_task.css">
    <title>Additional task 2</title>
</head>
<body>
    <div class="wrapper">
        <main class="home">
            <div class="home__container">
                <div class="home__task task"></div>
                <h3 class="task__title">–î–æ–¥–∞—Ç–∫–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è 2</h3>
                <div class="task__condition">
                    –ó–∞–¥–∞—á–∞ 1. –î–∞–Ω–æ –∫–ª–∞—Å PhoneNumber. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ string, –ø—Ä–∏ —è–∫–æ–º—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–æ–º–µ—Ä–∞ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä (050‚Ä¶.  ü°™ MTC, 096‚Ä¶ ü°™ Kyivstar, ‚Ä¶.)
                    Task 1. The PhoneNumber class is given. Create a conversion function to string, in which the operator is output based on the number (050.... ü°™ MTC, 096... ü°™ Kyivstar, ....).
                    Additional task that i want use extend for class which can iterate array of phones + use regular expressions, new Errors, try catch blocks.
                </div>
                <div class="task__computing">
                    <script>

                        // ------- Task 1 -------
                        // –ó–∞–¥–∞—á–∞ 1. –î–∞–Ω–æ –∫–ª–∞—Å PhoneNumber. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ string, –ø—Ä–∏ —è–∫–æ–º—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–æ–º–µ—Ä–∞ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä (050‚Ä¶.  ü°™ MTC, 096‚Ä¶ ü°™ Kyivstar, ‚Ä¶.)
                        // Task 1. The PhoneNumber class is given. Create a conversion function to string, in which the operator is output based on the number (050.... ü°™ MTC, 096... ü°™ Kyivstar, ....).
                        //Additional task that i want use extend for class which can iterate array of phones + use regular expressions, new Errors, try catch blocks

                        class PhoneNumberChecker {
                            // constructor (phone) {
                            //     this.phone = phone.trim();
                            // }

                            [Symbol.toPrimitive](hint){
                                let mobileOperator = '';

                                let numberString = String(this.phone).trim();
                                let operatorCode =  numberString.substring(2, 5);
                                let onlyPhoneNumber = numberString.slice(4);
                                
                                switch (operatorCode) {
                                    case '050':
                                    case '066': 
                                    case '095':
                                    case '099': 
                                        mobileOperator = 'Vodafone';
                                        break;
                                    case '067':
                                    case '096':
                                    case '098':
                                    case '068': 
                                        mobileOperator = 'Kievstar';
                                        break;
                                    case '063': 
                                    case '073':
                                    case '093': 
                                        mobileOperator = 'Lifecell';
                                        break;
                                    default: 
                                        mobileOperator = 'Other mobile operator';
                                        // throw new Error('Other mobile operator.')
                                        break;
                                }

                                if (hint === 'string') {
                                    return `${mobileOperator} - ${operatorCode} - ${onlyPhoneNumber}`
                                } else {
                                    return mobileOperator;
                                }
                            }
                        }

                        class PhoneManager extends PhoneNumberChecker {
                            constructor (phones){
                                // super();
                                this.phones = phones;
                                this.convertedPhones = [];
                            }

                            checkAllPhones () {
                                this.phones.forEach(phone => {
                                    let convertedPhone = phone[Symbol.toPrimitive]('string');
                                    this.convertedPhones.push(convertedPhone);
                                    console.log(convertedPhone);
                                });
                            }
                        }

                        // const phone1 = new PhoneNumberChecker('380993694390');
                        // console.log(phone1[Symbol.toPrimitive]('string'));
                        const phones = [380993694390, 380675247936, 0937471512, 0985441137, 0506755612 , 0667776677, 0731551312, 0955692379, ];
                        const phoneManager = new PhoneManager(phones);
                    </script>
                </div>
            </div>
        </main>
    </div>
</body>
</html>